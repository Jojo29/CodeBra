<!DOCTYPE html>
<html>
	<head>
		<title>No Limit</title>
		<!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
		<!-- Optional theme -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">

		<!-- Latest compiled and minified JavaScript -->
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>

		<link rel="stylesheet" href="css/freelancer.css">

		<!-- Parse files -->
		<link rel="stylesheet" href="css/reset.css">
		<link rel="stylesheet" href="css/styles.css">
		<!-- <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script> -->
		<script type="text/javascript" src="http://www.parsecdn.com/js/parse-latest.js"></script>
	
		<script type="text/javascript" src="js/initParse.js"></script>
		<link rel="stylesheet" href="css/general.css">
	</head>

		<style>
			html {
				background: url(http://cdn.paper4pc.com/images/blurred-wallpaper-10.jpg) no-repeat center center fixed;
				-webkit-background-size: cover;
				-moz-background-size: cover;
				-o-background-size: cover;
				background-size: cover;
			}
			body {
				padding-top: 20px;
				font-size: 16px;
				font-family: "Open Sans",serif;
				background: transparent;
			}

			h1 {
				font-family: "Abel", Arial, sans-serif;
				font-weight: 400;
				font-size: 40px;
			}

			/* Override B3 .panel adding a subtly transparent background */
			.panel {
				background-color: rgba(255, 255, 255, 0.9);
			}

			.margin-base-vertical {
				margin: 40px 0;
			}
		</style>

<body>

    <!-- Header -->
    <header>
        <div class="container-fluid" style="padding:25px">
            <div class="intro-text panel-heading">
                <h1 class="name">Welcome to No Limit!</h1>
            </div>
        </div>
    </header>


	<div class="container" id="logindiv">
		<div id="loginbox" class="row panel-body">
			<div class="col-md-6 col-md-offset-3">
		        <div style="display:none" id="login-alert" class="alert alert-danger col-sm-12"></div>

		        <form class="form-horizontal" id="loginform" role="form">

		          <input type="text" class="form-control" id="login-username" placeholder="Username" />
		          <div style="padding: 5px;"></div>
		          <input type="password" class="form-control" id="login-password" placeholder="Password" />
		          <div style="padding: 5px;"></div>
		          <input type="mail" class="form-control" id="signup-email" placeholder="Enter Email" /><div style="padding: 5px;"></div>
		          <div style="float:right; position: relative;"><a href="#">Forgot password?</a></div>

		          <div class="input-group">
		            <div class="checkbox">
		              <label>
		                <input id="login-remember" type="checkbox" name="remember" value="1"> Remember me<!--Styling for the Remember-->
		              </label>
		            </div>
		          </div>
		          <button id="loginbtn" type="submit" class="btn btn-success" onclick="login();">Log In</button>
		          <button id="signinbtn" class="btn btn-success"  data-toggle="modal" onclick="registerNewPerson();">Sign Up</button>
		          <a id="btn-fblogin" href="#" class="btn btn-primary">Login with Facebook</a>
		        </form>
		        <!-- <form class="signup-form"  role="form">
		          <h3>Sign Up</h3>
		          <div style="display:none" id="login-alert" class="alert alert-danger col-sm-12"></div>
		          <input type="mail" class="form-control" id="signup-email" placeholder="Enter Email" />
		          <input type="text" class="form-control" id="signup-username" placeholder="Username" />
		          <input type="password" class="form-control" id="signup-password" placeholder="Create a Password" />
		          <button id="signup-sign" class="btn btn-success" onclick="registerNewPerson();">Sign Up</button>
		        </form> -->
		    </div>
		</div>


	  <!-- Modal -->
	  <div class="modal fade" id="myModal" role="dialog">
		<div class="modal-dialog">
		    
			<!-- Modal content-->
		    <div class="modal-content">
		        <div class="modal-header">
		          <button type="button" class="close" data-dismiss="modal">&times;</button>
		          <h4 class="modal-title">Put in your information</h4>
		        </div>
		        <div class="modal-body">
		          <div class="form-group">
				  <label for="usr">Name:</label>
				  <input type="text" class="form-control" id="signup-username">
				</div>
				<div class="form-group">
				  <label for="email">Email:</label>
				  <input type="mail" class="form-control" id="signup-email">
				</div> 
				<div class="form-group">
				  <label for="pwd">Password:</label>
				</div>
		        <div class="modal-footer">
		          <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
		          <button type="button" class="btn btn-default" data-dismiss= "modal" onclick="registerNewPerson();">Register</button>
		        </div>
		      </div>
	      
	    	</div>
	  	</div>


		<script>
		      function registerNewPerson() {
		        // check if there is a user logged in currently; if so log them out
		        var currentUser = Parse.User.current();
		        if (currentUser) {
		            Parse.User.logOut();
		        } 
		        
		        event.preventDefault();
		        
		        // Create new user object
		        var user = new Parse.User();

		        var newEmail = $('#signup-email').val();
		        var newName = $('#login-username').val();
		        var newPass = $('#login-password').val();
		        console.log(newName);

		        // var user = new Parse.User();
		        user.set("username", newName);
		        user.set("password", newPass);
		        user.set("email", newEmail);
		        user.set("points", 0);
		        user.signUp(null, {
		          success: function(user) {
		            // Hooray! Let them use the app now.
		            alert("Thank you for registering! Please use your new credentials to log in.");
		            window.location.href = "home.html";
		          },
		          error: function(user, error) {
		            // Show the error message somewhere and let the user try again.
		            alert("Error: " + error.code + " " + error.message);

		          }
		        });

		        Parse.Cloud.run("hello").then(function(val) {
		          console.log(val);
		        }); 
		      }

		      function login(){
		        event.preventDefault();

		        var name = $("#login-username").val();
		        var pass = $("#login-password").val();

		        Parse.User.logIn(name, pass, 
		            {success: function() {
		                alert("Log in Success!");
		                window.location.href = "home.html";
		             }, 
		             error: function() {
		                console.log("Log in Error: "+error.message);
		                alert("Error: " + error.code + " " + error.message);
		             }
		        });

		        Parse.Cloud.run("hello").then(function(val) {
		          console.log(val);
		        });
		      }   
		</script>

	</div>
</body>
</html>